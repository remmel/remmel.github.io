<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2020-05-26T19:41:26+02:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Remy Mellet</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">Welcome to Jekyll!</title><link href="http://localhost:4000/jekyll/update/2020/05/26/welcome-to-jekyll.html" rel="alternate" type="text/html" title="Welcome to Jekyll!" /><published>2020-05-26T18:36:18+02:00</published><updated>2020-05-26T18:36:18+02:00</updated><id>http://localhost:4000/jekyll/update/2020/05/26/welcome-to-jekyll</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2020/05/26/welcome-to-jekyll.html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints 'Hi, Tom' to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">You’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.</summary></entry><entry><title type="html">Personnalized video game to gift</title><link href="http://localhost:4000/blog/348-personnalized-video-game/" rel="alternate" type="text/html" title="Personnalized video game to gift" /><published>2016-12-18T17:13:41+01:00</published><updated>2016-12-18T17:13:41+01:00</updated><id>http://localhost:4000/blog/personnalized-video-game</id><content type="html" xml:base="http://localhost:4000/blog/348-personnalized-video-game/">&lt;p&gt;&lt;a href=&quot;http://www.KustGame.com&quot;&gt;&lt;img class=&quot;size-medium wp-image-350 aligncenter&quot; title=&quot;KustAdventure : personnalized game to gift&quot; src=&quot;/wp-content/uploads/2016/12/Screenshot_2016-12-18-16-42-03-994_com.kustgame.kustmario-300x168.png&quot; alt=&quot;&quot; width=&quot;300&quot; height=&quot;168&quot; srcset=&quot;http://www.remy-mellet.com/wp-content/uploads/2016/12/Screenshot_2016-12-18-16-42-03-994_com.kustgame.kustmario-300x168.png 300w, http://www.remy-mellet.com/wp-content/uploads/2016/12/Screenshot_2016-12-18-16-42-03-994_com.kustgame.kustmario-1024x576.png 1024w&quot; sizes=&quot;(max-width: 300px) 100vw, 300px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As a side project, I’m developing &lt;a href=&quot;http://www.KustGame.com&quot;&gt;KustGame&lt;/a&gt; a mobile video game where you can :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;personnalize the player&lt;/li&gt;
  &lt;li&gt;add custom pictures&lt;/li&gt;
  &lt;li&gt;add special messages&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;The idea came when looking for a original way to offer a gift to my girlfriend : she had to finish the game to get the message indicating where was hidden the gift.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;In order to have quickly a product to sell, I used :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.yoyogames.com/gamemaker&quot;&gt;GameMaker&lt;/a&gt;, since the software allowing you to develop quickly and easily a game compatible with iOS, Android, windows, html5&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mobirise.com/&quot;&gt;Mobirize&lt;/a&gt;, to create the static homepage without the need of knowing HTML (for free).&lt;/li&gt;
  &lt;li&gt;Plain PHP without framework to develop the simple backend (no Java, no Symfony)&lt;/li&gt;
  &lt;li&gt;Shared host&lt;/li&gt;
  &lt;li&gt;jQuery to add nice interactions in the customize form (no angular, no backbone)&lt;/li&gt;
  &lt;li&gt;PayPal for it’s simple API (NVP)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The aim of that version is to be as simple as possible and to test if there is a market.&lt;/p&gt;

&lt;p&gt;The video game is planned to be sell before Christmas and published on the AppStore (iPhone) and Google Play Store (Android). By the way, Christmas is in 7 days, so the deadline is imminent.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;</content><author><name>remmel</name></author><summary type="html"></summary></entry><entry><title type="html">Parsing empty column with OpenCSV</title><link href="http://localhost:4000/blog/335-parsing-empty-column-with-opencsv/" rel="alternate" type="text/html" title="Parsing empty column with OpenCSV" /><published>2015-11-15T21:18:03+01:00</published><updated>2015-11-15T21:18:03+01:00</updated><id>http://localhost:4000/blog/parsing-empty-column-with-opencsv</id><content type="html" xml:base="http://localhost:4000/blog/335-parsing-empty-column-with-opencsv/">&lt;p&gt;Lets say you have the following 2 lines csv file :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jules,23&amp;lt;br /&amp;gt;
thomas,&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And object :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Class Person {&amp;lt;br /&amp;gt;
String name;&amp;lt;br /&amp;gt;
Integer age;&amp;lt;br /&amp;gt;
//getter + setter&amp;lt;br /&amp;gt;
}&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;When you use the java opencsv library to map that csv to the object, it will throw an exception :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Caused by: java.lang.NumberFormatException: Zero length string at java.lang.Integer.decode(Integer.java:1162) at com.sun.beans.editors.IntegerEditor.setAsText(IntegerEditor.java:39) at au.com.bytecode.opencsv.bean.CsvToBean.convertValue(CsvToBean.java:82) at au.com.bytecode.opencsv.bean.CsvToBean.processLine(CsvToBean.java:63) at au.com.bytecode.opencsv.bean.CsvToBean.parse(CsvToBean.java:48) … 22 more&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[doesn’t work!!!!] After looking at the source code I tried to add my custom PropertyEditor:&lt;/p&gt;

&lt;pre&gt;public class IntegerEmptyEditor extends NumberEditor {
    public IntegerEmptyEditor() {
    }
    public void setAsText(String var1) throws IllegalArgumentException {
        this.setValue(var1 == null || var1.equals(&quot;&quot;)?null:Integer.decode(var1));
    }
}

&lt;span style=&quot;color: #222222; font-family: 'Courier 10 Pitch', Courier, monospace; line-height: 21px;&quot;&gt;PropertyEditorManager.registerEditor(Integer.class, IntegerEmptyEditor.class);
&lt;/span&gt;&lt;span style=&quot;color: #222222; font-family: 'Courier 10 Pitch', Courier, monospace; line-height: 21px;&quot;&gt;PropertyEditor pe = PropertyEditorManager.findEditor(Integer.class);
//  BUT RETURN IntegerEditor instead of IntegerEmptyEditor&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;Instead, let’s treat all empty string value like null value :&lt;/p&gt;

&lt;pre&gt;CsvToBean csv = new CsvToBean() {
    protected Object convertValue(String value, PropertyDescriptor prop) throws InstantiationException, IllegalAccessException {
        if(StringUtils.isEmpty(value)) {
            value = null;
        }
        return super.convertValue(value, prop);
    }
};&lt;/pre&gt;

&lt;p&gt;Complete code mapping the csv file to the object :&lt;/p&gt;

&lt;pre&gt;CSVReader csvReader = new CSVReader(new FileReader(&quot;src/test/resources/utils/csv/person.csv&quot;));
ColumnPositionMappingStrategy strat = new ColumnPositionMappingStrategy();
strat.setType(Person.class);
String[] columns = new String[] {&quot;name&quot;, &quot;age&quot;};
strat.setColumnMapping(columns);
CsvToBean csv = new CsvToBean() {
    protected Object convertValue(String value, PropertyDescriptor prop) throws InstantiationException, IllegalAccessException {
        if(StringUtils.isEmpty(value)) {
            value = null;
        }
        return super.convertValue(value, prop);
    }
};
List&amp;lt;StopExt&amp;gt; list = csv.parse(strat, csvReader);
csvReader.close();&lt;/pre&gt;</content><author><name>remmel</name></author><summary type="html">Lets say you have the following 2 lines csv file :</summary></entry><entry><title type="html">Create and test a service using translator container with Symfony2</title><link href="http://localhost:4000/blog/315-create-test-symfony-service/" rel="alternate" type="text/html" title="Create and test a service using translator container with Symfony2" /><published>2015-10-16T16:24:24+02:00</published><updated>2015-10-16T16:24:24+02:00</updated><id>http://localhost:4000/blog/create-test-symfony-service</id><content type="html" xml:base="http://localhost:4000/blog/315-create-test-symfony-service/">&lt;p&gt;Here is the code to create a service which uses the translator component from Symfony2. The service is also tested.&lt;/p&gt;

&lt;h2 id=&quot;create-the-service&quot;&gt;Create the service&lt;/h2&gt;

&lt;p&gt;in &lt;em&gt;messages.en.yml&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;cb.texta1: Travel from %A% to %B%&lt;/pre&gt;

&lt;p&gt;in &lt;em&gt;services.yml&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;cb.labelbuilder:
  class: AppBundle\Service\LabelBuilder
  arguments: [@translator]&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;LabelBuilder.php&lt;/em&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;br /&amp;gt;
&lt;/code&gt;&lt;/p&gt;

&lt;pre class=&quot;brush:php&quot;&gt;namespace AppBundle\Service;

use Symfony\Component\Translation\TranslatorInterface;

class LabelBuilder {
    /**
     * @var TranslatorInterface
     */
    private $translator;

    public function __construct(TranslatorInterface $translator) {
        $this-&amp;gt;translator = $translator;
    }

    public function buildText1($labelA, $labelB) {
        return $this-&amp;gt;translator-&amp;gt;trans(
            'cb.texta1',
            [
                '%A%' =&amp;gt; $labelA,
                '%B%' =&amp;gt; $labelB
            ]
        );
    }
}&lt;/pre&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;br /&amp;gt;
&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;use-the-service-in-your-controller&quot;&gt;Use the service in your controller&lt;/h2&gt;

&lt;pre&gt;$this-&amp;gt;get('cb.labelbuilder')-&amp;gt;buildText1($lblA, $lblB);&lt;/pre&gt;

&lt;h2 id=&quot;to-test-with-phpunit&quot;&gt;To test with PHPUnit&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/17798143/how-can-i-test-a-service-in-symfony2&quot;&gt;Source SO&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;LabelBuilderTest.php&lt;/em&gt;&lt;/p&gt;

&lt;pre class=&quot;brush:php&quot;&gt;namespace AppBundle\Service;

use AppBundle\Entity\StatPriceDuration;
use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;

class LabelBuilderTest extends WebTestCase {

    protected static $translation;

    public static function setUpBeforeClass() {
        $kernel = static::createKernel();
        $kernel-&amp;gt;boot();
        self::$translation = $kernel-&amp;gt;getContainer()-&amp;gt;get('translator');
    }

    public function testBuildText1() {
        $builder = new LabelBuilder(self::$translation);

        $result = $builder-&amp;gt;buildText1(&quot;Paris&quot;, &quot;Lille&quot;);

        $this-&amp;gt;assertEquals(
            trim($result),
            &quot;Travel from Paris to Lille&quot;
        );
    }
}&lt;/pre&gt;

&lt;p&gt;_&lt;br /&gt;
_&lt;/p&gt;</content><author><name>remmel</name></author><summary type="html">Here is the code to create a service which uses the translator component from Symfony2. The service is also tested. Create the service in messages.en.yml : cb.texta1: Travel from %A% to %B% in services.yml : cb.labelbuilder: class: AppBundle\Service\LabelBuilder arguments: [@translator] LabelBuilder.php&amp;lt;br /&amp;gt; namespace AppBundle\Service; use Symfony\Component\Translation\TranslatorInterface; class LabelBuilder { /** * @var TranslatorInterface */ private $translator; public function __construct(TranslatorInterface $translator) { $this-&amp;gt;translator = $translator; } public function buildText1($labelA, $labelB) { return $this-&amp;gt;translator-&amp;gt;trans( 'cb.texta1', [ '%A%' =&amp;gt; $labelA, '%B%' =&amp;gt; $labelB ] ); } } &amp;lt;br /&amp;gt; Use the service in your controller $this-&amp;gt;get('cb.labelbuilder')-&amp;gt;buildText1($lblA, $lblB); To test with PHPUnit Source SO LabelBuilderTest.php namespace AppBundle\Service; use AppBundle\Entity\StatPriceDuration; use Symfony\Bundle\FrameworkBundle\Test\WebTestCase; class LabelBuilderTest extends WebTestCase { protected static $translation; public static function setUpBeforeClass() { $kernel = static::createKernel(); $kernel-&amp;gt;boot(); self::$translation = $kernel-&amp;gt;getContainer()-&amp;gt;get('translator'); } public function testBuildText1() { $builder = new LabelBuilder(self::$translation); $result = $builder-&amp;gt;buildText1(&quot;Paris&quot;, &quot;Lille&quot;); $this-&amp;gt;assertEquals( trim($result), &quot;Travel from Paris to Lille&quot; ); } } _ _</summary></entry><entry><title type="html">Comparabus</title><link href="http://localhost:4000/blog/299-comparabus/" rel="alternate" type="text/html" title="Comparabus" /><published>2013-12-15T20:30:28+01:00</published><updated>2013-12-15T20:30:28+01:00</updated><id>http://localhost:4000/blog/comparabus</id><content type="html" xml:base="http://localhost:4000/blog/299-comparabus/">&lt;p&gt;Je développe depuis un an (Janvier 2013) un site permettant de comparer les prix des billets de car (ligne de bus régulières nationales et internationales). Vous pouvez y accéder depuis &lt;a href=&quot;http://www.comparabus.com&quot; title=&quot;comparabus.com&quot;&gt;www.comparabus.com&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;La plateforme permet à l’heure actuelle de comparer les prix d’Eurolines, iDBUS et megabus. Ce qui représente 630 villes desservies.&lt;/p&gt;

&lt;p&gt;Si vous recherchez des prix imbattable pour vous déplacer (lentement!), venez de temps en temps jeter un coup d’oeil sur &lt;a href=&quot;http://www.comparabus.com&quot;&gt;comparabus.com&lt;/a&gt; . Il vous est par exemple possible en ce moment d’effectuer un aller-retour Paris-Londres pour 2€50. Ou encore un Paris-Bruxelles pour 2€50 également.&lt;/p&gt;

&lt;h2 id=&quot;pourquoi-avoir-créé-ce-site&quot;&gt;Pourquoi avoir créé ce site?&lt;/h2&gt;

&lt;p&gt;Depuis 2 ans les compagnies de car ont le droit d’effectuer des trajets nationaux (avant c’était la SNCF qui avait le monopole, cf cabotage). Ainsi il est désormais possible d’effectuer un Paris-Lille en bus (avec idbus ou eurolines par exemple) ce qui était avant illégal. Etant donné que plusieurs autocaristes proposaient le même trajet (3 par exemple pour un Paris-Londres) il devenait intéressant de pouvoir comparer leurs tarifs facilement et rapidement; ce qui n’était pas possible au lancement de mon site.&lt;/p&gt;

&lt;h2 id=&quot;côté-technique&quot;&gt;Côté technique&lt;/h2&gt;

&lt;p&gt;Si vous vous interressez à la technique, le site est développé en php (framework Symfony), bien que j’aurai préféré le faire en JEE avec Spring MVC, et est hébergé sur une machine virtuelle d’OVH (Debian, VPS 512Mo de RAM). Les scripts sont quant à eux développés en Java.&lt;/p&gt;

&lt;p&gt;Si vous avez des conseils ou critique, n’hésitez pas à utiliser formulaire de feedback disponible sur le site &lt;a href=&quot;http://www.comparabus.com&quot;&gt;comparabus.com&lt;/a&gt; à droite. Si vous souhaitez que je continu à améliorer et reférencer de nouveaux autocariste soutenez moi en “likant” la page et en n’en parlant autour de vous!&lt;/p&gt;</content><author><name>remmel</name></author><summary type="html">Je développe depuis un an (Janvier 2013) un site permettant de comparer les prix des billets de car (ligne de bus régulières nationales et internationales). Vous pouvez y accéder depuis www.comparabus.com . La plateforme permet à l’heure actuelle de comparer les prix d’Eurolines, iDBUS et megabus. Ce qui représente 630 villes desservies. Si vous recherchez des prix imbattable pour vous déplacer (lentement!), venez de temps en temps jeter un coup d’oeil sur comparabus.com . Il vous est par exemple possible en ce moment d’effectuer un aller-retour Paris-Londres pour 2€50. Ou encore un Paris-Bruxelles pour 2€50 également.</summary></entry><entry><title type="html">Storing opening and closing times in database for stores</title><link href="http://localhost:4000/blog/288-storing-opening-and-closing-times-in-database-for-stores/" rel="alternate" type="text/html" title="Storing opening and closing times in database for stores" /><published>2013-11-24T13:18:06+01:00</published><updated>2013-11-24T13:18:06+01:00</updated><id>http://localhost:4000/blog/storing-opening-and-closing-times-in-database-for-stores</id><content type="html" xml:base="http://localhost:4000/blog/288-storing-opening-and-closing-times-in-database-for-stores/">&lt;p&gt;Requirement:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Store can open and close many times during the day&lt;/li&gt;
  &lt;li&gt;Store can close the day after it opens (store opened after midnight)&lt;/li&gt;
  &lt;li&gt;Precision of the time must be 1/2 hour / 30minutes&lt;/li&gt;
  &lt;li&gt;Searching for the store opened at a certain time must be done efficiently&lt;/li&gt;
  &lt;li&gt;Every weeks have same business hours&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Info:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Type “Time” doesn’t exists in MySQL&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mon : 10.00-14.00 17.00-22.00&lt;/li&gt;
  &lt;li&gt;Tue : 10.00-22.00&lt;/li&gt;
  &lt;li&gt;Wed : 10.00-22.30&lt;/li&gt;
  &lt;li&gt;Thu : 10.00-22.30&lt;/li&gt;
  &lt;li&gt;Fri : 10.30-01.00 (+1d)&lt;/li&gt;
  &lt;li&gt;Sat : 11.30-02.00 (+1d)&lt;/li&gt;
  &lt;li&gt;Sun : Closed&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1encode-all-the-opening-closing-time-of-a-store-in-one-number&quot;&gt;1/Encode all the opening-closing time of a store in one number&lt;/h2&gt;

&lt;p&gt;Let’s see the opening time table as an array. For instance if the store would be open from 10am to 2pm and 5pm to 10pm we would have:&lt;/p&gt;

&lt;p&gt;000000000000000000001111111100000011111111110000 &amp;lt;=&amp;gt; 17575273562112&lt;/p&gt;

&lt;p&gt;20*0 (20 first 1/2 hour closed) ; 8*1 (4 hours / 8 1/2hours openend) ; etc…&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;
  &lt;a href=&quot;/wp-content/uploads/2013/11/openingclosingtime1.png&quot;&gt;&lt;img class=&quot;size-medium wp-image-293 aligncenter&quot; title=&quot;openingclosingtime1&quot; src=&quot;/wp-content/uploads/2013/11/openingclosingtime1-300x54.png&quot; alt=&quot;&quot; width=&quot;300&quot; height=&quot;54&quot; srcset=&quot;/wp-content/uploads/2013/11/openingclosingtime1-300x54.png 300w, /wp-content/uploads/2013/11/openingclosingtime1.png 694w&quot; sizes=&quot;(max-width: 300px) 100vw, 300px&quot; /&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;For one day there are 2^(24*2) = 2^48 possibilities&lt;br /&gt;
For one week there are 2^(24*2*7) = 2^336&lt;/p&gt;

&lt;p&gt;As the bigger mysql integer size is 2^64 we don’t have big enough integer to encode it.&lt;/p&gt;

&lt;p&gt;More explication here: &lt;a href=&quot;http://remy-mellet.com/dev/b48encode.html&quot;&gt;http://remy-mellet.com/dev/b48encode.html&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;2openingperiod-table&quot;&gt;2/OpeningPeriod table&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;id&lt;/span&gt;&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;store_id&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;day [0=sun – 1=mon – … – 6=sat]&lt;/li&gt;
  &lt;li&gt;open [0am=0; 0.30am=1; 1am=2 … 11pm=46]&lt;/li&gt;
  &lt;li&gt;close [0am=0; 0.30am=1; 1am=2 … 11pm=46 … 2am(+1d)=52]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We must be able to store opening time during the night, so for the closing time, if it was open the day before we will add 48.&lt;br /&gt;
If the lastest time is 10am (d+1) &amp;lt;=&amp;gt; 48+20 = 68. So it can be encoded as a Mysql TINYINT ( 2^8 ).&lt;/p&gt;

&lt;p&gt;Current time is 1915, Mon =&amp;gt; curTime = ceil(19.25&lt;em&gt;2) = 39 ; curDay = 1 ; prevDay = 0;&lt;br /&gt;
Current time is 0130, Sun =&amp;gt; curTime = ceil(1.5&lt;/em&gt;2) = 3; curDay = 0; prevDay = 6;&lt;br /&gt;
Get the stores id open:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;select distinct(p.store_id) from OpeningPeriod p&lt;br /&gt;
where (day = curDay and open &amp;lt;= curTime and close &amp;gt;= curTime ) OR&lt;br /&gt;
(day = prevDay and open &amp;lt;= curTime+48 and close &amp;gt;= curTime+48)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;3openingperiod-table-wo-day&quot;&gt;3/OpeningPeriod table w/o day&lt;/h2&gt;

&lt;p&gt;To simplify, instead of taking as reference for the opening day the beginning of the day, why not just take the beginning of the week? Thus we will take off the day column.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;id&lt;/span&gt;&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;store_id&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;open [0am/Sun=0; 0.30am/Sun=1; 1am/Sun=2 … 11pm/Sun=46 … 6pm/Sat=324 (48*6+18*2)]&lt;/li&gt;
  &lt;li&gt;close [0am/Sun=0; 0.30am/Sun=1; 1am/Sun=2 … 2am/Sun = 4+336 = 340]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The open and close can be encoded as Mysql SMALLINT (2^16)&lt;/p&gt;

&lt;p&gt;Current time is 19.15, Mon =&amp;gt; curTime = ceil(19.25&lt;em&gt;2) = 39&lt;br /&gt;
Current time is 01.30, Sun =&amp;gt; curTime = ceil(1.5&lt;/em&gt;2) = 3&lt;/p&gt;

&lt;p&gt;Get the stores id open:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;select distinct(p.store_id) from OpeningPeriod p&lt;br /&gt;
where (open &amp;lt;= curTime and close &amp;gt;= curTime ) OR&lt;br /&gt;
(open &amp;lt;= curTime and close &amp;gt;= curTime+336)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;http://stackoverflow.com/questions/2174523/storing-and-searching-opening-closing-times-for-stores&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/1036603/storing-business-hours-in-a-database&quot;&gt;http://stackoverflow.com/questions/1036603/storing-business-hours-in-a-database&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://remy-mellet.com/dev/b48encode.html&quot;&gt;http://remy-mellet.com/dev/b48encode.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>remmel</name></author><summary type="html">Requirement:</summary></entry><entry><title type="html">Symfony 2 : This script is only accessible from localhost / You are not allowed to access this file</title><link href="http://localhost:4000/blog/255-symfony-2-this-script-is-only-accessible-from-localhost-you-are-not-allowed-to-access-this-file/" rel="alternate" type="text/html" title="Symfony 2 : This script is only accessible from localhost / You are not allowed to access this file" /><published>2011-11-09T13:28:50+01:00</published><updated>2011-11-09T13:28:50+01:00</updated><id>http://localhost:4000/blog/symfony-2-this-script-is-only-accessible-from-localhost-you-are-not-allowed-to-access-this-file</id><content type="html" xml:base="http://localhost:4000/blog/255-symfony-2-this-script-is-only-accessible-from-localhost-you-are-not-allowed-to-access-this-file/">&lt;p&gt;Vous voulez accèder au fichier app_dev.php ou config.php de votre application Symfony 2, mais vous avez l’erreur “This script is only accessible from localhost” ou “You are not allowed to access this file”.&lt;br /&gt;
Récupérer votre IP et ajouter là dans le fichier app_dev.php et config.php en modifiant le code ci-dessous:&lt;/p&gt;

&lt;pre class=&quot;brush:php&quot;&gt;if (!in_array(@$_SERVER['REMOTE_ADDR'], array(
    '127.0.0.1',
    '::1',
	'MONIP'
))) {
    header('HTTP/1.0 403 Forbidden');
    exit('This script is only accessible from localhost.');
}
&lt;/pre&gt;</content><author><name>remmel</name></author><summary type="html">Vous voulez accèder au fichier app_dev.php ou config.php de votre application Symfony 2, mais vous avez l’erreur “This script is only accessible from localhost” ou “You are not allowed to access this file”. Récupérer votre IP et ajouter là dans le fichier app_dev.php et config.php en modifiant le code ci-dessous:</summary></entry><entry><title type="html">Utiliser Symfony 2 avec 1and1</title><link href="http://localhost:4000/blog/241-utiliser-symfony-2-avec-1and1/" rel="alternate" type="text/html" title="Utiliser Symfony 2 avec 1and1" /><published>2011-11-09T13:06:36+01:00</published><updated>2011-11-09T13:06:36+01:00</updated><id>http://localhost:4000/blog/utiliser-symfony-2-avec-1and1</id><content type="html" xml:base="http://localhost:4000/blog/241-utiliser-symfony-2-avec-1and1/">&lt;p&gt;Symfony 2 à besoin de php 5.2.3. Vous devez donc créer/éditer le .htaccess à la racine et y ajouter:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AddType x-mapp-php6 .php&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Cela va vous permettre d’utiliser la version php 5.4.0beta1.&lt;/p&gt;

&lt;p&gt;Il reste maintenant le problème de timezone, pour cela créez un fichier php.ini dans le répertoire Symfony/web contenant:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;date.timezone = &quot;Europe/Paris&quot;&amp;lt;br /&amp;gt;
short_open_tag = off&amp;lt;br /&amp;gt;
magic_quotes_gpc = off&amp;lt;br /&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Maintenant vous pouvez lancer, &lt;code class=&quot;highlighter-rouge&quot;&gt;http://foo/bar/Symfony/web/config.php&lt;/code&gt; et vous ne devriez plus avoir de problèmes.&lt;/p&gt;</content><author><name>remmel</name></author><summary type="html">Symfony 2 à besoin de php 5.2.3. Vous devez donc créer/éditer le .htaccess à la racine et y ajouter: AddType x-mapp-php6 .php Cela va vous permettre d’utiliser la version php 5.4.0beta1. Il reste maintenant le problème de timezone, pour cela créez un fichier php.ini dans le répertoire Symfony/web contenant: date.timezone = &quot;Europe/Paris&quot;&amp;lt;br /&amp;gt; short_open_tag = off&amp;lt;br /&amp;gt; magic_quotes_gpc = off&amp;lt;br /&amp;gt; Maintenant vous pouvez lancer, http://foo/bar/Symfony/web/config.php et vous ne devriez plus avoir de problèmes.</summary></entry><entry><title type="html">Draw SVG rectangle with 1,2,3 or 4 rounded corner</title><link href="http://localhost:4000/blog/179-draw-rectangle-with-123-or-4-rounded-corner/" rel="alternate" type="text/html" title="Draw SVG rectangle with 1,2,3 or 4 rounded corner" /><published>2011-09-05T21:24:37+02:00</published><updated>2011-09-05T21:24:37+02:00</updated><id>http://localhost:4000/blog/draw-rectangle-with-123-or-4-rounded-corner</id><content type="html" xml:base="http://localhost:4000/blog/179-draw-rectangle-with-123-or-4-rounded-corner/">&lt;p&gt;&lt;img class=&quot;alignright size-full wp-image-202&quot; title=&quot;Screen shot 2011-09-06 at 12.40.02 AM&quot; src=&quot;/wp-content/uploads/2011/09/Screen-shot-2011-09-06-at-12.40.02-AM.png&quot; alt=&quot;&quot; width=&quot;124&quot; height=&quot;127&quot; /&gt;&lt;br /&gt;Here is the code allowing you to draw with Raphael JS a rectangle with one or many corner rounded and to have a corner more rounded than the other.&lt;/p&gt;

&lt;p&gt;This code will add &lt;em&gt;roundedRectangle&lt;/em&gt; method to Raphael JS (&lt;a href=&quot;http://raphaeljs.com/reference.html#plugins-canvas&quot;&gt;how to extend Raphael&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;roundedRectangle(x, y, width, height, upper_left_corner, upper_right_corner, lower_right_corner, lower_left_corner)&lt;/em&gt;.&lt;/p&gt;

&lt;pre class=&quot;brush:js&quot;&gt;window.onload = function () {
    //roundedRectangle(x, y, width, height, upper_left_corner, upper_right_corner, lower_right_corner, lower_left_corner)
    Raphael.fn.roundedRectangle = function (x, y, w, h, r1, r2, r3, r4){
        var array = [];
        array = array.concat([&quot;M&quot;,x,r1+y, &quot;Q&quot;,x,y, x+r1,y]); //A
        array = array.concat([&quot;L&quot;,x+w-r2,y, &quot;Q&quot;,x+w,y, x+w,y+r2]); //B
        array = array.concat([&quot;L&quot;,x+w,y+h-r3, &quot;Q&quot;,x+w,y+h, x+w-r3,y+h]); //C
        array = array.concat([&quot;L&quot;,x+r4,y+h, &quot;Q&quot;,x,y+h, x,y+h-r4, &quot;Z&quot;]); //D

        return this.path(array);
    };

    var paper = Raphael(&quot;canvas&quot;, 840, 480);

    paper.roundedRectangle(10, 10, 80, 80, 0, 10, 25, 5).attr({fill: &quot;#f00&quot;});
}&lt;/pre&gt;

&lt;p&gt;&lt;a href=&quot;http://jsdo.it/remmel/1qGu&quot;&gt;Online example&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you don’t want to use Raphael and you don’t want neither to understand how svg path is working, use this function to generate the path corresponding to the corner rounded rectangle:&lt;/p&gt;

&lt;pre class=&quot;brush:js&quot;&gt;function p(x,y){
  return x+&quot; &quot;+y+&quot; &quot;;
}

function rectangle(x, y, w, h, r1, r2, r3, r4){
  var strPath = &quot;M&quot;+p(x+r1,y); //A
  strPath+=&quot;L&quot;+p(x+w-r2,y)+&quot;Q&quot;+p(x+w,y)+p(x+w,y+r2); //B
  strPath+=&quot;L&quot;+p(x+w,y+h-r3)+&quot;Q&quot;+p(x+w,y+h)+p(x+w-r3,y+h); //C
  strPath+=&quot;L&quot;+p(x+r4,y+h)+&quot;Q&quot;+p(x,y+h)+p(x,y+h-r4); //D
  strPath+=&quot;L&quot;+p(x,y+r1)+&quot;Q&quot;+p(x,y)+p(x+r1,y); //A
  strPath+=&quot;Z&quot;;

  return strPath;
}&lt;/pre&gt;</content><author><name>remmel</name></author><summary type="html">Here is the code allowing you to draw with Raphael JS a rectangle with one or many corner rounded and to have a corner more rounded than the other. This code will add roundedRectangle method to Raphael JS (how to extend Raphael). roundedRectangle(x, y, width, height, upper_left_corner, upper_right_corner, lower_right_corner, lower_left_corner). window.onload = function () { //roundedRectangle(x, y, width, height, upper_left_corner, upper_right_corner, lower_right_corner, lower_left_corner) Raphael.fn.roundedRectangle = function (x, y, w, h, r1, r2, r3, r4){ var array = []; array = array.concat([&quot;M&quot;,x,r1+y, &quot;Q&quot;,x,y, x+r1,y]); //A array = array.concat([&quot;L&quot;,x+w-r2,y, &quot;Q&quot;,x+w,y, x+w,y+r2]); //B array = array.concat([&quot;L&quot;,x+w,y+h-r3, &quot;Q&quot;,x+w,y+h, x+w-r3,y+h]); //C array = array.concat([&quot;L&quot;,x+r4,y+h, &quot;Q&quot;,x,y+h, x,y+h-r4, &quot;Z&quot;]); //D return this.path(array); }; var paper = Raphael(&quot;canvas&quot;, 840, 480); paper.roundedRectangle(10, 10, 80, 80, 0, 10, 25, 5).attr({fill: &quot;#f00&quot;}); } Online example If you don’t want to use Raphael and you don’t want neither to understand how svg path is working, use this function to generate the path corresponding to the corner rounded rectangle: function p(x,y){ return x+&quot; &quot;+y+&quot; &quot;; } function rectangle(x, y, w, h, r1, r2, r3, r4){ var strPath = &quot;M&quot;+p(x+r1,y); //A strPath+=&quot;L&quot;+p(x+w-r2,y)+&quot;Q&quot;+p(x+w,y)+p(x+w,y+r2); //B strPath+=&quot;L&quot;+p(x+w,y+h-r3)+&quot;Q&quot;+p(x+w,y+h)+p(x+w-r3,y+h); //C strPath+=&quot;L&quot;+p(x+r4,y+h)+&quot;Q&quot;+p(x,y+h)+p(x,y+h-r4); //D strPath+=&quot;L&quot;+p(x,y+r1)+&quot;Q&quot;+p(x,y)+p(x+r1,y); //A strPath+=&quot;Z&quot;; return strPath; }</summary></entry><entry><title type="html">Google Chrome extension: Store your Ryanair user’s preferences</title><link href="http://localhost:4000/blog/137-google-chrome-extension-store-your-ryanair-users-preferences/" rel="alternate" type="text/html" title="Google Chrome extension: Store your Ryanair user's preferences" /><published>2011-04-26T17:11:18+02:00</published><updated>2011-04-26T17:11:18+02:00</updated><id>http://localhost:4000/blog/google-chrome-extension-store-your-ryanair-users-preferences</id><content type="html" xml:base="http://localhost:4000/blog/137-google-chrome-extension-store-your-ryanair-users-preferences/">&lt;p&gt;&lt;a href=&quot;/wp-content/uploads/2011/04/ryanair_preferences.crx&quot;&gt;Download the google chrome extension.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This extension allows you to save time when booking a Ryanair ticket by:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;storing you preferences (Firstname, Lastname, address, phone number, etc)&lt;/li&gt;
  &lt;li&gt;pre-filling the forms to avoid paying extra charges (No bags, No insurances, No text messages, etc)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can change you preferences (which will be set automatically the first time you buy a ticket whis the extension enable) by clicking on the icon which appear when you are on ryanair website.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;
  &lt;a href=&quot;/wp-content/uploads/2011/04/RyanairExtensionScreeshot.png&quot;&gt;&lt;img class=&quot;size-full wp-image-138 aligncenter&quot; title=&quot;RyanairExtensionScreeshot&quot; src=&quot;/wp-content/uploads/2011/04/RyanairExtensionScreeshot.png&quot; alt=&quot;&quot; width=&quot;492&quot; height=&quot;214&quot; /&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Developers:&lt;br /&gt;
Download source code : &lt;a href=&quot;/wp-content/uploads/2011/04/ryanair_preferences.zip&quot;&gt;ryanair_preferences&lt;/a&gt;&lt;br /&gt;
This extension uses:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;content script injection (when the page is changed)&lt;/li&gt;
  &lt;li&gt;localStorage&lt;/li&gt;
  &lt;li&gt;input value and localStorage mapping&lt;/li&gt;
  &lt;li&gt;option page&lt;/li&gt;
&lt;/ul&gt;</content><author><name>remmel</name></author><category term="Javascript" /><summary type="html">Download the google chrome extension.</summary></entry></feed>